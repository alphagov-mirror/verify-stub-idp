apply from: 'buildSrc/publish.gradle'
apply plugin: 'com.github.ben-manes.versions'


buildscript {
    repositories {
        maven { url 'https://artifactory.ida.digital.cabinet-office.gov.uk/artifactory/whitelisted-repos' }
    }
    dependencies {
        classpath 'com.github.ben-manes:gradle-versions-plugin:0.11.3'
    }
}

subprojects {
    apply plugin: 'java'
    repositories {
        maven { url 'https://artifactory.ida.digital.cabinet-office.gov.uk/artifactory/whitelisted-repos' }
    }

    ext {
      ida_utils_version = '2.0.0-317'
      opensaml_version = '3.3.0'
    }
    group = "uk.gov.ida"
    version = "$opensaml_version-${System.env.BUILD_NUMBER ?: 'SNAPSHOT'}"

    configurations {
        all*.exclude group: 'org.mockito', module: 'mockito-all'
        common
        test_deps
    }

    dependencies {
        common  "uk.gov.verify:saml-utils:$opensaml_version-48",
                "org.opensaml:opensaml-core:$opensaml_version",
                'com.google.guava:guava:18.0',
                'joda-time:joda-time:2.9',
                'javax.inject:javax.inject:1',
                'com.google.inject:guice:4.0'

        test_deps "uk.gov.verify:saml-test-utils:$opensaml_version-29",
                'commons-codec:commons-codec:1.10'
    }
}
